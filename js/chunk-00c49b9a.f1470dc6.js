(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-00c49b9a"],{"45fc":function(t,a,s){"use strict";var e=s("23e7"),o=s("b727").some,c=s("a640"),n=s("ae40"),r=c("some"),i=n("some");e({target:"Array",proto:!0,forced:!r||!i},{some:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},"81b1":function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"wrap"},[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),e("navbar",{tag:"div",attrs:{router:t.router},on:{getproducts:t.getProducts}}),e("div",{staticClass:"header"},["All Products"===t.category?e("div",{staticClass:"header__banner-products",style:"background-image: url(https://hexschool-api.s3.us-west-2.amazonaws.com/custom/HzXptYyxgN3ZYOu7oC83Z6A9mmJkbJf7OsxJ4RMuJJJsCMmNLr4D66116JW4sBYUmOHJ5X7WInNTxNyinjIE1sKmwj4NPTLA7ehiRDeEDEEtBkzWoyTAIYTl9fwGO91S.jpg)"}):t._e(),"Sofa"===t.category?e("div",{staticClass:"header__banner-products",style:"background-image: url(https://hexschool-api.s3.us-west-2.amazonaws.com/custom/87MKhyLZmjmQLSAcfUhwFG8IXAa3STAV7oOwY0palmh1tY2ZULIV1FRvNkEp2cMbFRnzbAZt8e6GeUqraLHnk1ecu8uHq5ekEFOVaBPhVJdCI2nMRHS7hfl37dsFoIGh.jpg)"}):t._e(),"Chair"===t.category?e("div",{staticClass:"header__banner-products",style:"background-image: url(https://hexschool-api.s3.us-west-2.amazonaws.com/custom/udE6lxHHveCdXRRJBuCNCeqvF79gMu1M7WdTFu6FcmFfhz8jM0UF3VU5IAEl7B4txyK4Mi4I0I5cqaAMUiIagaZt34XLBQoooJuYRGkWEYaV1GuwVccShXWIS1SIkTTy.jpg)"}):t._e(),"Table"===t.category?e("div",{staticClass:"header__banner-products",style:"background-image: url(https://hexschool-api.s3.us-west-2.amazonaws.com/custom/Dse7xWc7qSACcDIjUubtmHEs8iqay1uaU9BTrqt5WNw6IJfTBii9XFCAHoo2MHaRZaZM7Gnb22IEvgeXtHJndKhjrIBnL3DwH83LHzN7z8r06A7cFvLqR6MeMM0Xf7bP.jpg)"}):t._e(),"Cabinet"===t.category?e("div",{staticClass:"header__banner-products",style:"background-image: url(https://hexschool-api.s3.us-west-2.amazonaws.com/custom/NCfrAFX3jnqVp8EmY9XAhOCGyT5pxY8Hf6k8HXqLR2feWtkq7lv6GoECsSAt06anGgubqCAOCO9bYXoU9vDtG6eyXQyatUNb79diGrZ80yi7qkq8b7rmxTUvOkq8VzCo.jpg)"}):t._e(),"Side Table"===t.category?e("div",{staticClass:"header__banner-products",style:"background-image: url(https://hexschool-api.s3.us-west-2.amazonaws.com/custom/FA8OtQ71Ok3jjHpx4xGleDDEViuTU8iSYrkc91tkcRoSdHIB4qXIPOi6GHA1M2BlIY1Lq6nzTGlvVeO3vnY8OXyCJ2T9VPyKAq6DOAQZd44gloFjQWhQ6gM7g4O4bg4z.jpg)"}):t._e(),"Lighting"===t.category?e("div",{staticClass:"header__banner-products",style:"background-image: url(https://hexschool-api.s3.us-west-2.amazonaws.com/custom/3G77snGeN7i1YPiDYoHdK535mxMxYLRReDEy8RAMowp6BJAsO4h336GEGjFvFesf9Vahd1QFjHUUm4BOd6eXjxb0jROkewuEM3jX5NC8LuhYdtk2hyBd2HaNO336gYsJ.jpg)"}):t._e(),"Sale"===t.category?e("div",{staticClass:"header__banner-products",style:"background-image: url(https://hexschool-api.s3.us-west-2.amazonaws.com/custom/FyzOhf6flDI62JcIkPmN25aVp1CWsBzcO5pczl4goDLO2CYGQKGgj4eaHTUu7YCTeC1jdpFcVtzfPIZiTWnRvnrCjLraYz3SShCNlWzz7ZVHm6dHfbuH4orJRoa8eMYc.jpg)"}):t._e(),e("ul",{staticClass:"header__main-menu"},[e("li",{on:{click:function(a){t.openMenu=!1}}},[e("router-link",{attrs:{to:"/"}},[e("span",[t._v("HOME")]),e("span",[t._v("首頁")])])],1),e("li",{on:{click:function(a){t.getProducts(),t.openMenu=!1}}},[e("router-link",{attrs:{to:"/products/All-Products"}},[e("span",[t._v("ALL PRODUCTS")]),e("span",[t._v("所有商品")])])],1),e("li",{staticClass:"header__all-product"},[e("a",{attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.openMenu=!t.openMenu}}},[e("span",[t._v("PRODUCT CATEGORY ▾")]),e("span",[t._v("分類單品 ▾")])]),e("ul",{staticClass:"header__all-product-list",class:{show:t.openMenu}},[e("li",{on:{click:function(a){t.getProducts(),t.openMenu=!t.openMenu}}},[e("router-link",{attrs:{to:"/products/Sofa"}},[e("img",{attrs:{src:s("259b"),alt:""}}),e("p",[t._v("Sofa")])])],1),e("li",{on:{click:function(a){t.getProducts(),t.openMenu=!t.openMenu}}},[e("router-link",{attrs:{to:"/products/Chair"}},[e("img",{attrs:{src:s("1c39"),alt:""}}),e("p",[t._v("Chair")])])],1),e("li",{on:{click:function(a){t.getProducts(),t.openMenu=!t.openMenu}}},[e("router-link",{attrs:{to:"/products/Table"}},[e("img",{attrs:{src:s("9cb8"),alt:""}}),e("p",[t._v("Table")])])],1),e("li",{on:{click:function(a){t.getProducts(),t.openMenu=!t.openMenu}}},[e("router-link",{attrs:{to:"/products/Cabinet"}},[e("img",{attrs:{src:s("ec17"),alt:""}}),e("p",[t._v("Cabinet")])])],1),e("li",{on:{click:function(a){t.getProducts(),t.openMenu=!t.openMenu}}},[e("router-link",{attrs:{to:"/products/Side Table"}},[e("img",{attrs:{src:s("6707"),alt:""}}),e("p",[t._v("Side Table")])])],1),e("li",{on:{click:function(a){t.getProducts(),t.openMenu=!t.openMenu}}},[e("router-link",{attrs:{to:"/products/Lighting"}},[e("img",{attrs:{src:s("5470"),alt:""}}),e("p",[t._v("Lighting")])])],1)])]),e("li",{on:{click:function(a){t.getProducts(),t.openMenu=!1}}},[e("router-link",{attrs:{to:"/products/Sale"}},[e("span",[t._v("SALE")]),e("span",[t._v("限時特價")])])],1),e("li",{on:{click:function(a){t.openMenu=!1}}},[e("router-link",{attrs:{to:"/guide"}},[e("span",[t._v("SHIPPING GUIDE")]),e("span",[t._v("運送須知")])])],1),e("li",{on:{click:function(a){t.openMenu=!1}}},[e("router-link",{attrs:{to:"/contact"}},[e("span",[t._v("CONTACT")]),e("span",[t._v("聯絡我們")])])],1)])]),e("div",{staticClass:"content contents-products"},[e("h4",[t._v(t._s(t.category))]),e("ul",{staticClass:"items"},t._l(t.showProducts,(function(a){return e("li",{key:a.id,staticClass:"item"},[e("router-link",{attrs:{to:"/product/"+a.id}},[e("div",{staticClass:"card-img",style:"background-image: url("+a.imageUrl[0]+")"},[e("button",{staticClass:"add-btn",attrs:{type:"button"},on:{click:function(s){return s.preventDefault(),t.addToCart(a.id)}}},[t._v("Add to Cart")])]),e("div",{staticClass:"card-text"},[e("h5",{staticClass:"card-title"},[t._v(t._s(a.title))]),e("p",{staticClass:"sale-price"},[t._v("NT$"+t._s(t._f("thousands")(a.price))),a.price!==a.origin_price?e("span",{staticClass:"sale-icon"},[t._v("sale")]):t._e()]),a.price!==a.origin_price?e("p",{staticClass:"origin-price"},[t._v("NT$"+t._s(t._f("thousands")(a.origin_price)))]):t._e()])])],1)})),0)]),t._m(0)],1)},o=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"footer"},[s("div",{staticClass:"text"},[s("p",[t._v("© Hurley Furniture 2020 All Rights Reserved.")]),s("p",[t._v("圖片為練習使用，無商業用途。")])])])}],c=(s("99af"),s("4160"),s("45fc"),s("b0c0"),s("159b"),s("d178")),n={components:{Navbar:c["a"]},data:function(){return{products:[],showProducts:[],category:"",openMenu:!1,isLoading:!1,cart:[],router:""}},created:function(){this.getCart(),this.getProducts(),this.router=this.$router.history.current.name},methods:{getCart:function(){var t=this;this.isLoading=!0;var a="".concat("https://course-ec-api.hexschool.io/api/").concat("9fbd3898-4d4d-4c65-a3cf-6af8511169fb","/ec/shopping");this.$http.get(a).then((function(a){t.cart=a.data.data,t.isLoading=!1}))},getProducts:function(){var t=this,a=this.$route.params.category,s="".concat("https://course-ec-api.hexschool.io/api/").concat("9fbd3898-4d4d-4c65-a3cf-6af8511169fb","/ec/products?paged=40");this.isLoading=!0,this.$http.get(s).then((function(s){t.showProducts=[],t.products=s.data.data,t.products.forEach((function(s){a===s.category?(t.showProducts.push(s),t.category=a):"All-Products"===a?(t.showProducts=t.products,t.category="All Products"):"Sale"===a&&(s.price<s.origin_price&&t.showProducts.push(s),t.category=a)})),t.isLoading=!1}))},addToCart:function(t){var a=this;this.isLoading=!0;var s="".concat("https://course-ec-api.hexschool.io/api/").concat("9fbd3898-4d4d-4c65-a3cf-6af8511169fb","/ec/shopping"),e=this.cart.some((function(e){if(e.product.id===t){var o={product:t,quantity:e.quantity+1};return a.$http.patch(s,o).then((function(){a.getCart(),a.$bus.$emit("get-cart"),a.isLoading=!1})),!0}}));if(!e){var o={product:t,quantity:1};this.$http.post(s,o).then((function(){a.getCart(),a.$bus.$emit("get-cart"),a.isLoading=!1}))}}}},r=n,i=s("2877"),u=Object(i["a"])(r,e,o,!1,null,null,null);a["default"]=u.exports}}]);
//# sourceMappingURL=chunk-00c49b9a.f1470dc6.js.map