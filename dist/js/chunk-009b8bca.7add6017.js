(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-009b8bca"],{"45fc":function(t,a,e){"use strict";var n=e("23e7"),o=e("b727").some,s=e("a640"),c=e("ae40"),i=s("some"),r=c("some");n({target:"Array",proto:!0,forced:!i||!r},{some:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},e6dc:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"wrap"},[n("div",{staticClass:"top-menu"},[n("div",{staticClass:"top",class:{show:t.openMainMenu}},[t._m(0),n("ul",{staticClass:"top__menu",class:{hide:t.opensearch}},[n("li",[n("router-link",{attrs:{to:"/admin"}},[t._v("ADMIN LOGIN")])],1),n("li",[n("router-link",{attrs:{to:"/account"}},[t._v("ACCOUNT")])],1),n("li",[n("a",{attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.shoppingCartOpen=!0}}},[t._v(" CART "),n("span",[t._v("("+t._s(t.cart.length)+")")])])]),n("li",[n("a",{attrs:{href:"#"},on:{click:function(a){t.opensearch=!0}}},[n("i",{staticClass:"fas fa-search search-icon"})])]),n("li",{staticClass:"ham-btn",on:{click:function(a){a.preventDefault(),t.openMainMenu=!t.openMainMenu}}},[n("span"),n("span"),n("span")])]),n("shopping",{tag:"div",attrs:{shoppingcart:t.cart,shoppingcartopen:t.shoppingCartOpen},on:{deleteproduct:t.deleteCartItem,qtyupdate:t.qtyUpdate,shoppingcartclose:t.shoppingCartClose}}),n("ul",{staticClass:"top__main-menu"},[n("li",[n("router-link",{attrs:{to:"/"}},[n("span",[t._v("HOME")]),n("span",[t._v("首頁")])])],1),n("li",{on:{click:function(a){return t.getProducts()}}},[n("router-link",{attrs:{to:"/products/All-Products"}},[n("span",[t._v("ALL PRODUCTS")]),n("span",[t._v("所有商品")])])],1),n("li",{staticClass:"top__all-product"},[n("a",{attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.openMenu=!t.openMenu}}},[n("span",[t._v("PRODUCT CATEGORY ▸")]),n("span",[t._v("分類單品 ▸")])]),n("ul",{staticClass:"top__all-product-list",class:{show:t.openMenu}},[n("li",{on:{click:function(a){t.getProducts(),t.openMainMenu=!t.openMainMenu}}},[n("router-link",{attrs:{to:"/products/Sofa"}},[t._v("Sofa")])],1),n("li",{on:{click:function(a){t.getProducts(),t.openMainMenu=!t.openMainMenu}}},[n("router-link",{attrs:{to:"/products/Chair"}},[t._v("Chair")])],1),n("li",{on:{click:function(a){t.getProducts(),t.openMainMenu=!t.openMainMenu}}},[n("router-link",{attrs:{to:"/products/Table"}},[t._v("Table")])],1),n("li",{on:{click:function(a){t.getProducts(),t.openMainMenu=!t.openMainMenu}}},[n("router-link",{attrs:{to:"/products/Cabinet"}},[t._v("Cabinet")])],1),n("li",{on:{click:function(a){t.getProducts(),t.openMainMenu=!t.openMainMenu}}},[n("router-link",{attrs:{to:"/products/Side Table"}},[t._v("Side Table")])],1),n("li",{on:{click:function(a){t.getProducts(),t.openMainMenu=!t.openMainMenu}}},[n("router-link",{attrs:{to:"/products/Lighting"}},[t._v("Lighting")])],1)])]),n("li",{on:{click:function(a){return t.getProducts()}}},[n("router-link",{attrs:{to:"/products/Sale"}},[n("span",[t._v("SALE")]),n("span",[t._v("限時特價")])])],1),n("li",[n("router-link",{attrs:{to:"/guide"}},[n("span",[t._v("SHIPPING GUIDE")]),n("span",[t._v("運送須知")])])],1),t._m(1)]),n("search",{tag:"div",attrs:{search:t.opensearch},on:{changesearch:t.changeSearch}})],1)]),n("div",{staticClass:"logo-wrap"},[n("div",{staticClass:"logo-frame"}),n("h1",[n("router-link",{staticClass:"logo",attrs:{to:"/"}},[t._v("Hurley Furniture")])],1)]),n("div",{staticClass:"header"},["All Products"===t.category?n("div",{staticClass:"header__banner-products",style:"background-image: url(https://shoplineimg.com/5cd8dc7015c0710001011ee2/5d567834662a0611dc105759/1400x.webp?source_format=jpg)"}):t._e(),"Sofa"===t.category?n("div",{staticClass:"header__banner-products",style:"background-image: url(https://shoplineimg.com/5cd8dc7015c0710001011ee2/5d567bcdd423dd01667248d2/1400x.webp?source_format=jpg)"}):t._e(),"Chair"===t.category?n("div",{staticClass:"header__banner-products",style:"background-image: url(https://shoplineimg.com/5cd8dc7015c0710001011ee2/5d6bea70b6574a7416f2001c/1400x.webp?source_format=jpg)"}):t._e(),"Table"===t.category?n("div",{staticClass:"header__banner-products",style:"background-image: url(https://shoplineimg.com/5cd8dc7015c0710001011ee2/5dc6ca47979b2900174c997d/1400x.webp?source_format=jpg)"}):t._e(),"Cabinet"===t.category?n("div",{staticClass:"header__banner-products",style:"background-image: url(https://shoplineimg.com/5cd8dc7015c0710001011ee2/5dbcdc42350d2e00232e256f/1400x.webp?source_format=jpg)"}):t._e(),"Side Table"===t.category?n("div",{staticClass:"header__banner-products",style:"background-image: url(https://shoplineimg.com/5cd8dc7015c0710001011ee2/5d647934f7aa34003e57f243/1400x.webp?source_format=jpg)"}):t._e(),"Lighting"===t.category?n("div",{staticClass:"header__banner-products",style:"background-image: url(https://shoplineimg.com/5cd8dc7015c0710001011ee2/5ddb90e29044fe001b6c198b/1400x.webp?source_format=jpg)"}):t._e(),"Sale"===t.category?n("div",{staticClass:"header__banner-products",style:"background-image: url(https://shoplineimg.com/5cd8dc7015c0710001011ee2/5cf8fdd4e33efe001a669719/1400x.webp?source_format=jpg)"}):t._e(),n("ul",{staticClass:"header__main-menu"},[n("li",[n("router-link",{attrs:{to:"/"}},[n("span",[t._v("HOME")]),n("span",[t._v("首頁")])])],1),n("li",{on:{click:function(a){return t.getProducts()}}},[n("router-link",{attrs:{to:"/products/All-Products"}},[n("span",[t._v("ALL PRODUCTS")]),n("span",[t._v("所有商品")])])],1),n("li",{staticClass:"header__all-product"},[n("a",{attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.openMenu=!t.openMenu}}},[n("span",[t._v("PRODUCT CATEGORY ▾")]),n("span",[t._v("分類單品 ▾")])]),n("ul",{staticClass:"header__all-product-list",class:{show:t.openMenu}},[n("li",{on:{click:function(a){t.getProducts(),t.openMenu=!t.openMenu}}},[n("router-link",{attrs:{to:"/products/Sofa"}},[n("img",{attrs:{src:e("259b"),alt:""}}),n("p",[t._v("Sofa")])])],1),n("li",{on:{click:function(a){t.getProducts(),t.openMenu=!t.openMenu}}},[n("router-link",{attrs:{to:"/products/Chair"}},[n("img",{attrs:{src:e("1c39"),alt:""}}),n("p",[t._v("Chair")])])],1),n("li",{on:{click:function(a){t.getProducts(),t.openMenu=!t.openMenu}}},[n("router-link",{attrs:{to:"/products/Table"}},[n("img",{attrs:{src:e("9cb8"),alt:""}}),n("p",[t._v("Table")])])],1),n("li",{on:{click:function(a){t.getProducts(),t.openMenu=!t.openMenu}}},[n("router-link",{attrs:{to:"/products/Cabinet"}},[n("img",{attrs:{src:e("ec17"),alt:""}}),n("p",[t._v("Cabinet")])])],1),n("li",{on:{click:function(a){t.getProducts(),t.openMenu=!t.openMenu}}},[n("router-link",{attrs:{to:"/products/Side Table"}},[n("img",{attrs:{src:e("6707"),alt:""}}),n("p",[t._v("Side Table")])])],1),n("li",{on:{click:function(a){t.getProducts(),t.openMenu=!t.openMenu}}},[n("router-link",{attrs:{to:"/products/Lighting"}},[n("img",{attrs:{src:e("5470"),alt:""}}),n("p",[t._v("Lighting")])])],1)])]),n("li",{on:{click:function(a){return t.getProducts()}}},[n("router-link",{attrs:{to:"/products/Sale"}},[n("span",[t._v("SALE")]),n("span",[t._v("限時特價")])])],1),n("li",[n("router-link",{attrs:{to:"/guide"}},[n("span",[t._v("SHIPPING GUIDE")]),n("span",[t._v("運送須知")])])],1),t._m(2)])]),n("div",{staticClass:"content contents-products"},[n("h4",[t._v(t._s(t.category))]),n("ul",{staticClass:"items"},t._l(t.showProducts,(function(a){return n("li",{key:a.id,staticClass:"item"},[n("router-link",{attrs:{to:"/product/"+a.id}},[n("div",{staticClass:"card-img",style:"background-image: url("+a.imageUrl[0]+")"},[n("button",{staticClass:"add-btn",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.addToCart(a.id)}}},[t._v("Add to Cart")])]),n("div",{staticClass:"card-text"},[n("h5",{staticClass:"card-title"},[t._v(t._s(a.title))]),n("p",{staticClass:"sale-price"},[t._v("NT$"+t._s(t._f("thousands")(a.price))),a.price!==a.origin_price?n("span",{staticClass:"sale-icon"},[t._v("sale")]):t._e()]),a.price!==a.origin_price?n("p",{staticClass:"origin-price"},[t._v("NT$"+t._s(t._f("thousands")(a.origin_price)))]):t._e()])])],1)})),0)]),t._m(3),n("gotop",{tag:"div"}),n("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),n("div",{staticClass:"mask",class:{open:t.shoppingCartOpen},on:{click:function(a){a.preventDefault(),t.shoppingCartOpen=!t.shoppingCartOpen}}})],1)},o=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ul",{staticClass:"top__icon"},[e("li",[e("a",{staticClass:"fab fa-twitter twitter",attrs:{href:"#"}})]),e("li",[e("a",{staticClass:"fab fa-facebook-f facebook",attrs:{href:"#"}})]),e("li",[e("a",{staticClass:"fab fa-instagram ig",attrs:{href:"#"}})])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("li",[e("a",{attrs:{href:"#"}},[e("span",[t._v("CONTACT")]),e("span",[t._v("聯絡我們")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("li",[e("a",{attrs:{href:"#"}},[e("span",[t._v("CONTACT")]),e("span",[t._v("聯絡我們")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"footer"},[e("div",{staticClass:"text"},[e("p",[t._v("© Hurley Furniture 2020 All Rights Reserved.")]),e("p",[t._v("圖片為練習使用，無商業用途。")])])])}],s=(e("99af"),e("4160"),e("45fc"),e("159b"),e("d9b9")),c=e("3712"),i=e("9e6f"),r={components:{shopping:s["a"],search:c["a"],gotop:i["a"]},data:function(){return{products:[],showProducts:[],category:"",openMainMenu:!1,openMenu:!1,opensearch:!1,isLoading:!1,shoppingCartOpen:!1,cart:{},totalPrice:0}},created:function(){this.getProducts(),this.getCart()},methods:{getProducts:function(){var t=this,a=this.$route.params.category;this.showProducts=[];var e="".concat("https://course-ec-api.hexschool.io/api/").concat("9fbd3898-4d4d-4c65-a3cf-6af8511169fb","/ec/products?paged=40");this.isLoading=!0,this.$http.get(e).then((function(e){t.isLoading=!1,t.products=e.data.data,t.products.forEach((function(e){a===e.category?(t.showProducts.push(e),t.category=a):"All-Products"===a?(t.showProducts=t.products,t.category="All Products"):"Sale"===a&&(e.price<e.origin_price&&t.showProducts.push(e),t.category=a)}))})).catch((function(a){t.isLoading=!1,console.log(a)}))},getCart:function(){var t=this;this.isLoading=!0;var a="".concat("https://course-ec-api.hexschool.io/api/").concat("9fbd3898-4d4d-4c65-a3cf-6af8511169fb","/ec/shopping");this.$http.get(a).then((function(a){t.isLoading=!1,t.cart=a.data.data})).catch((function(a){t.isLoading=!1,console.log(a)}))},deleteCartItem:function(t){var a=this;this.isLoading=!0;var e="".concat("https://course-ec-api.hexschool.io/api/").concat("9fbd3898-4d4d-4c65-a3cf-6af8511169fb","/ec/shopping/").concat(t);this.$http.delete(e).then((function(){a.isLoading=!1,a.getCart()})).catch((function(t){a.isLoading=!1,console.log(t)}))},addToCart:function(t){var a=this;this.isLoading=!0;var e="".concat("https://course-ec-api.hexschool.io/api/").concat("9fbd3898-4d4d-4c65-a3cf-6af8511169fb","/ec/shopping"),n={product:t,quantity:1},o=this.cart.some((function(e){if(e.product.id===t)return a.qtyUpdate(t,e.quantity+1),!0}));o||this.$http.post(e,n).then((function(){a.isLoading=!1,a.getCart()})).catch((function(t){a.isLoading=!1,console.log(t.response.data.errors)}))},qtyUpdate:function(t,a){var e=this;this.isLoading=!0;var n={product:t,quantity:a};if(0===a){var o="".concat("https://course-ec-api.hexschool.io/api/").concat("9fbd3898-4d4d-4c65-a3cf-6af8511169fb","/ec/shopping/").concat(t);this.$http.delete(o).then((function(){e.isLoading=!1,e.getCart()})).catch((function(t){e.isLoading=!1,console.log(t)}))}else{var s="".concat("https://course-ec-api.hexschool.io/api/").concat("9fbd3898-4d4d-4c65-a3cf-6af8511169fb","/ec/shopping");this.$http.patch(s,n).then((function(){e.isLoading=!1,e.getCart()})).catch((function(t){e.isLoading=!1,console.log(t)}))}},changeSearch:function(){this.opensearch=!1},shoppingCartClose:function(){this.shoppingCartOpen=!1}}},u=r,p=e("2877"),l=Object(p["a"])(u,n,o,!1,null,null,null);a["default"]=l.exports}}]);
//# sourceMappingURL=chunk-009b8bca.7add6017.js.map